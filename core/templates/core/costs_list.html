{% extends "core/base.html" %}
{% block title %}Spese · CantiereSmart{% endblock %}
{% block content %}
  <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px">
    <h2 style="margin:0">Spese</h2>
    <div style="display:flex; gap:8px">
      <a class="btn" href="/costs/new/">Nuova spesa</a>
      <a class="btn secondary" href="/costs?state=pending">In attesa</a>
      <a class="btn secondary" href="/costs?state=approved">Approvate</a>
      <a class="btn secondary" href="/costs?state=rejected">Respinte</a>
    </div>
  </div>

  <div class="card">
    {% if items %}
      <div style="display:grid; gap:8px">
        {% for c in items %}
          <a class="card" style="padding:10px; display:block" href="/costs/{{ c.id }}/">
            <div style="display:flex; justify-content:space-between">
              <div>
                <div style="font-weight:700">{{ c.project.name }} — € {{ c.amount_eur }}</div>
                <div style="font-size:12px; color:#9a9a9a">{{ c.get_doc_type_display }} · {{ c.created_at }}</div>
              </div>
              <div class="badge" style="color:
                {% if c.status == 'approved' %}#00d084
                {% elif c.status == 'pending' %}#F4B000
                {% else %}#ff6b6b{% endif %}">
                {{ c.status }}
              </div>
            </div>
          </a>
        {% endfor %}
      </div>
    {% else %}
      <div style="font-size:14px; color:#9a9a9a">Nessuna spesa.</div>
    {% endif %}
  </div>
{% endblock %}
